CREATE DATABASE Interdiciplinar;
USE Interdiciplinar;

CREATE TABLE Entidade(
    	ID serial Primary Key,
    	Nome varchar(255) NOT NULL,
    	x integer NOT NULL,
    	y integer NOT NULL,
	qtdAtributos integer NOT NULL
);

CREATE TABLE Relacionamento(
    	ID serial Primary Key,
    	Nome varchar(255) NOT NULL,
	x integer NOT NULL,
	y integer NOT NULL
	qtdAtributos integer NOT NULL,
	qtdEnv integer NOT NULL,
	idEntidade1 integer NOT NULL,
	idEntidade2 integer,
	idEntidade3 integer
);

CREATE TABLE Cardinalidade(
    	ID serial Primary Key,
    	cardMin varchar(1) NOT NULL,
	cardMax varchar(1) NOT NULL,
	x integer NOT NULL,
	y integer NOT NULL,
	IdRelacionamento integer FOREIGN KEY REFERENCES Relacionamento (ID)
);

CREATE TABLE Atributo(	
	ID serial Primary Key,
	Nome varchar(255) NOT NULL,
	x integer NOT NULL,
	y integer NOT NULL,
	indice integer NOT NULL,
	qtdAtributos integer NOT NULL,
	dado integer NOT NULL,
	propriedades varchar(20) NOT NULL,
	ID_Proprietario integer NOT NULL,
	Tipo_Proprietario varchar(15) NOT NULL

	CHECK (Tipo_Proprietario = "Entidade" 
	OR Tipo_Proprietario = "Relacionamento" 
	OR Tipo_Proprietario = "Atributo")
);

CREATE TABLE Padronizacao(
    	ID serial Primary Key,
    	Nome varchar(255) NOT NULL,
    	x integer NOT NULL,
    	y integer NOT NULL,
	Padrao varchar(255) NOT NULL,
	List varchar(60) NOT NULL
);
CREATE TABLE Especializacao(
    	ID serial Primary Key,
    	Nome varchar(255) NOT NULL,
    	x integer NOT NULL,
    	y integer NOT NULL,
	Especial varchar(255) NOT NULL,
	List varchar(60) NOT NULL
);